{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/FormSubmit.js","components/PopupWithForm.js","components/FormInputWithError.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","utils/api.js","utils/utils.js","components/App.js","serviceWorker.js","index.js","images/logo.svg"],"names":["Header","className","src","logoPath","alt","CurrentUserContext","createContext","Card","name","link","likes","_id","owner","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","isLiked","some","like","cardLikeButtonClassName","type","aria-label","onClick","width","height","fill","xmlns","d","viewBox","stroke","strokeWidth","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","userData","userName","userDescription","about","userAvatar","avatar","style","backgroundImage","map","card","key","Footer","ImagePopup","place","onClose","handleEscape","evt","useEffect","document","body","addEventListener","removeEventListener","onMouseDown","target","closest","FormSubmit","React","memo","submitTitle","loadingTitle","isActive","isClicked","disabled","PopupWithForm","title","children","onSubmit","submitLoadingTitle","isSubmitActive","useState","isSubmitted","setSubmitState","formRef","useRef","isSubmitValid","setSubmitValidity","isFormValid","current","elements","filter","elem","every","validity","valid","action","method","noValidate","e","preventDefault","ref","FormInputWithError","placeholder","minLength","maxLength","value","onChange","inputRef","errorMessage","setErrorMessage","required","autoComplete","validationMessage","EditProfilePopup","onUpdateUser","setName","info","setInfo","EditAvatarPopup","onUpdateAvatar","avatarRef","setAvatar","AddPlacePopup","setPlace","setLink","ConfirmPopup","deletedCard","onConfirmDelete","api","querySelector","options","this","_baseUrl","baseUrl","_headers","headers","_contentType","res","ok","json","Promise","reject","status","fetch","then","_handleResponse","data","JSON","stringify","itemId","authorization","App","isLoading","setLoadingState","wasResponse","setResponseState","isEditProfilePopupOpen","setEditProfilePopupState","isAddPlacePopupOpen","setAddPlacePopupState","isEditAvatarPopupOpen","setEditAvatarPopupState","isImagePopupOpen","setImagePopupState","isConfirmPopupOpen","setConfirmPopupState","closeAllPopups","selectedCard","setSelectedCard","setCurrentUser","setCards","all","getUserData","getData","cardsData","catch","err","alert","finally","Provider","unlikeItem","bind","likeItem","newCard","newCards","cardItem","saveUserData","saveUserAvatar","saveNewItem","deleteItem","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","error","console","message","module","exports"],"mappings":"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","file":"static/js/main.ff393ddd.chunk.js","sourcesContent":["import React from \"react\";\r\nimport logoPath from \"../images/logo.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img\r\n        className=\"header__logo\"\r\n        src={logoPath}\r\n        alt=\"Логотип проекта 'Место'\"\r\n      />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import { createContext } from \"react\";\r\n\r\nexport const CurrentUserContext = createContext();\r\n","import React, { useContext } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({\r\n  name,\r\n  link,\r\n  likes,\r\n  _id,\r\n  owner,\r\n  onCardClick,\r\n  onCardLike,\r\n  onCardDelete,\r\n}) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isOwn = owner._id === currentUser._id;\r\n  const isLiked = likes.some((like) => like._id === currentUser._id);\r\n  const cardLikeButtonClassName = `card__button card__button_act_like ${\r\n    isLiked && \"card__button_active\"\r\n  } page__button`;\r\n\r\n  const handleClick = () => {\r\n    onCardClick({ name, link });\r\n  };\r\n\r\n  const handleLikeClick = () => {\r\n    onCardLike(isLiked, { likes, _id });\r\n  };\r\n\r\n  const handleDeleteClick = () => {\r\n    onCardDelete({ _id });\r\n  };\r\n\r\n  return (\r\n    <figure className=\"card\">\r\n      {isOwn && (\r\n        <button\r\n          className=\"card__button card__button_act_delete page__button\"\r\n          type=\"button\"\r\n          aria-label=\"Удалить\"\r\n          onClick={handleDeleteClick}\r\n        >\r\n          <svg\r\n            width=\"18\"\r\n            height=\"20\"\r\n            fill=\"#fff\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n          >\r\n            <path\r\n              d=\"M2.458 18.142c.06.67.61 1.158 1.28 1.158H14.26c.67 0 1.22-.508 1.28-1.158L16.72 \r\n            5.79H1.28l1.178 12.352zM16.72 1.93h-5.14v-.65C11.58.569 11.011 0 10.3 0H7.72C7.01 0 6.44.569 \r\n            6.44 1.28v.65H1.28C.569 1.93 0 2.499 0 3.21c0 .711.569 1.28 1.28 1.28h15.44c.711 0 1.28-.569 \r\n            1.28-1.28 0-.711-.569-1.28-1.28-1.28z\"\r\n            />\r\n          </svg>\r\n        </button>\r\n      )}\r\n      <button\r\n        className=\"card__button card__button_act_enlarge-image\"\r\n        type=\"button\"\r\n        aria-label=\"Увеличить\"\r\n        onClick={handleClick}\r\n      >\r\n        <img className=\"card__image\" src={link} alt={`${name}, фотография`} />\r\n      </button>\r\n      <figcaption className=\"card__description\">\r\n        <h2 className=\"card__heading\">{name}</h2>\r\n        <div className=\"card__likes\">\r\n          <button\r\n            className={cardLikeButtonClassName}\r\n            type=\"button\"\r\n            aria-label=\"Нравится\"\r\n            onClick={handleLikeClick}\r\n          >\r\n            <svg\r\n              width=\"20\"\r\n              height=\"18\"\r\n              viewBox=\"-1 -1 23 19\"\r\n              stroke=\"black\"\r\n              strokeWidth=\"1.5\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <path\r\n                d=\"M19.154 9.338c2.14-2.14 2.14-5.614 0-7.733a5.486 5.486 0 00-7.755 0l-1.038 \r\n              1.06-1.038-1.039C7.183-.535 3.708-.535 1.589 1.605A5.43 5.43 0 000 5.482c0 1.462.572 \r\n              2.84 1.59 3.877l8.771 8.772 8.793-8.793z\"\r\n              />\r\n            </svg>\r\n          </button>\r\n          <span className=\"card__likes_quantity\">{likes.length}</span>\r\n        </div>\r\n      </figcaption>\r\n    </figure>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React, { useContext } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\nimport Card from \"./Card.js\";\r\n\r\nfunction Main({\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onEditAvatar,\r\n  onCardClick,\r\n  cards,\r\n  onCardLike,\r\n  onCardDelete,\r\n}) {\r\n  // Достаём данные пользователя из контекста\r\n  const userData = useContext(CurrentUserContext);\r\n  const userName = userData.name;\r\n  const userDescription = userData.about;\r\n  const userAvatar = userData.avatar;\r\n\r\n  return (\r\n    <main className=\"main page__narrow\">\r\n      <section className=\"profile\">\r\n        <div\r\n          className=\"profile__image\"\r\n          style={{ backgroundImage: `url(${userAvatar})` }}\r\n        >\r\n          <button\r\n            className=\"profile__avatar-button\"\r\n            aria-label=\"Редактировать\"\r\n            type=\"button\"\r\n            onClick={onEditAvatar}\r\n          />\r\n        </div>\r\n        <div className=\"profile__data\">\r\n          <h1 className=\"profile__name\">{userName}</h1>\r\n          <button\r\n            className=\"profile__edit-button page__button\"\r\n            aria-label=\"Редактировать\"\r\n            type=\"button\"\r\n            onClick={onEditProfile}\r\n          />\r\n          <p className=\"profile__profession\">{userDescription}</p>\r\n        </div>\r\n        <button\r\n          className=\"profile__add-button page__button\"\r\n          aria-label=\"Добавить\"\r\n          type=\"button\"\r\n          onClick={onAddPlace}\r\n        />\r\n      </section>\r\n      <section className=\"gallery\">\r\n        {cards.map((card) => (\r\n          <Card\r\n            key={card._id}\r\n            {...card}\r\n            onCardClick={onCardClick}\r\n            onCardLike={onCardLike}\r\n            onCardDelete={onCardDelete}\r\n          />\r\n        ))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer page__narrow\">\r\n      <p className=\"footer__copyright\">&copy;&nbsp;2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React, { useEffect } from \"react\";\r\n\r\nfunction ImagePopup({ place, onClose }) {\r\n  // Обработчик клика по оверлею\r\n  const handleOverlayPopupClick = (evt) => {\r\n    if (!evt.target.closest(\".popup__container\")) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  // Обработчик нажатия клавиши \"Escape\"\r\n  const handleEscape = (evt) => {\r\n    if (evt.key === \"Escape\") {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  // Используем хук эффекта для закрытия модалки по нажатию клавиши \"Escape\"\r\n  useEffect(() => {\r\n    document.body.addEventListener(\"keydown\", handleEscape);\r\n    return () => {\r\n      document.body.removeEventListener(\"keydown\", handleEscape);\r\n    };\r\n  });\r\n\r\n  return (\r\n    <div\r\n      className=\"popup popup_act_enlarge-image popup_active\"\r\n      onMouseDown={handleOverlayPopupClick}\r\n    >\r\n      <figure className=\"popup__container\">\r\n        <img\r\n          className=\"popup__image\"\r\n          src={place.link}\r\n          alt={`${place.name}, фотография`}\r\n        />\r\n        <figcaption>\r\n          <p className=\"popup__image-caption\">{`${place.name}, фотография`}</p>\r\n          <button\r\n            className=\"popup__close-button page__button\"\r\n            type=\"button\"\r\n            aria-label=\"Закрыть\"\r\n            onClick={onClose}\r\n          />\r\n        </figcaption>\r\n      </figure>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React from \"react\";\r\n\r\nconst FormSubmit = React.memo(\r\n  ({ submitTitle, loadingTitle, isActive, isClicked }) => {\r\n    return (\r\n      <button\r\n        className={`popup__save-button ${\r\n          isActive\r\n            ? \"popup__save-button_unblocked\"\r\n            : \"popup__save-button_blocked\"\r\n        }`}\r\n        disabled={!isActive}\r\n        type=\"submit\"\r\n      >\r\n        {isClicked ? loadingTitle : submitTitle}\r\n      </button>\r\n    );\r\n  }\r\n);\r\n\r\nexport default FormSubmit;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport FormSubmit from \"./FormSubmit\";\r\n\r\nfunction PopupWithForm({\r\n  title,\r\n  name,\r\n  children,\r\n  onClose,\r\n  onSubmit,\r\n  submitTitle,\r\n  submitLoadingTitle,\r\n  isSubmitActive,\r\n}) {\r\n  // Определяем, нажата ли кнопка отправки формы для подстановки загрузочного текста\r\n  const [isSubmitted, setSubmitState] = useState(false);\r\n\r\n  // Определяем форму для валидации\r\n  const formRef = useRef();\r\n\r\n  // Стейт-переменная для изменения валидности кнопки отправки формы в зависимости от валидности формы\r\n  const [isSubmitValid, setSubmitValidity] = useState(isSubmitActive);\r\n\r\n  // Обработчик клика по оверлею\r\n  const handleOverlayPopupClick = (evt) => {\r\n    if (!evt.target.closest(\".popup__container\")) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  // Обработчик нажатия клавиши \"Escape\"\r\n  const handleEscape = (evt) => {\r\n    if (evt.key === \"Escape\") {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  // Обработчик отправки формы\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setSubmitState(true);\r\n    onSubmit();\r\n  };\r\n\r\n  // Используем хук эффекта для закрытия модалки по нажатию клавиши \"Escape\"\r\n  useEffect(() => {\r\n    document.body.addEventListener(\"keydown\", handleEscape);\r\n    return () => {\r\n      document.body.removeEventListener(\"keydown\", handleEscape);\r\n    };\r\n  });\r\n\r\n  // Валидация формы\r\n  useEffect(() => {\r\n    const isFormValid = [...formRef.current.elements]\r\n      .filter((elem) => elem.name)\r\n      .every((elem) => elem.validity.valid);\r\n\r\n    setSubmitValidity(isFormValid);\r\n  });\r\n\r\n  return (\r\n    <div\r\n      className={`popup popup_act_${name} popup_active`}\r\n      onMouseDown={handleOverlayPopupClick}\r\n    >\r\n      <form\r\n        action=\"#\"\r\n        className=\"popup__container popup__container_with_form\"\r\n        name={name}\r\n        method=\"GET\"\r\n        noValidate\r\n        onSubmit={handleSubmit}\r\n        ref={formRef}\r\n      >\r\n        <h2 className=\"popup__heading\">{title}</h2>\r\n        {children}\r\n        <FormSubmit\r\n          submitTitle={submitTitle}\r\n          loadingTitle={submitLoadingTitle}\r\n          isActive={isSubmitValid}\r\n          isClicked={isSubmitted}\r\n        />\r\n        <button\r\n          className=\"popup__close-button page__button\"\r\n          type=\"button\"\r\n          aria-label=\"Закрыть\"\r\n          onClick={onClose}\r\n        />\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useState } from \"react\";\r\n\r\nconst FormInputWithError = React.memo(\r\n  ({\r\n    name,\r\n    placeholder,\r\n    type,\r\n    minLength,\r\n    maxLength,\r\n    value,\r\n    onChange,\r\n    inputRef,\r\n  }) => {\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n    const handleChange = (e) => {\r\n      setErrorMessage(e.target.validationMessage);\r\n      onChange(e);\r\n    }\r\n    return (\r\n      <>\r\n        <input\r\n          className=\"popup__input popup__input_valid\"\r\n          name={name}\r\n          placeholder={placeholder}\r\n          type={type}\r\n          minLength={minLength}\r\n          maxLength={maxLength}\r\n          required\r\n          autoComplete=\"off\"\r\n          value={value}\r\n          onChange={handleChange}\r\n          ref={inputRef}\r\n        />\r\n        <span className={`popup__error popup__error_in_${name}`}>\r\n          {errorMessage}\r\n        </span>\r\n      </>\r\n    );\r\n  }\r\n);\r\n\r\nexport default FormInputWithError;\r\n","import React, { useState, useContext } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport FormInputWithError from \"./FormInputWithError\";\r\n\r\nfunction EditProfilePopup({ onClose, onUpdateUser }) {\r\n  // Используем контекст для установки начальных значений стейт-переменных для управляемых компонентов\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const [name, setName] = useState(currentUser.name);\r\n  const [info, setInfo] = useState(currentUser.about);\r\n\r\n  const handleNameChange = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const handleInfoChange = (e) => {\r\n    setInfo(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    onUpdateUser({\r\n      name,\r\n      about: info,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Редактировать профиль\"\r\n      name=\"edit-profile\"\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      submitTitle=\"Сохранить\"\r\n      submitLoadingTitle=\"Сохранение...\"\r\n      isSubmitActive={true}\r\n    >\r\n      <fieldset className=\"popup__fieldset\">\r\n        <FormInputWithError\r\n          name=\"name\"\r\n          placeholder=\"Имя\"\r\n          type=\"text\"\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          value={name}\r\n          onChange={handleNameChange}\r\n        />\r\n        <FormInputWithError\r\n          name=\"info\"\r\n          placeholder=\"Профессия\"\r\n          type=\"text\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          value={info}\r\n          onChange={handleInfoChange}\r\n        />\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React, { useRef, useState } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport FormInputWithError from \"./FormInputWithError\";\r\n\r\nfunction EditAvatarPopup({ onClose, onUpdateAvatar }) {\r\n  const avatarRef = useRef();\r\n  const [avatar, setAvatar] = useState(\"\");\r\n\r\n  const handleAvatarChange = () => {\r\n    setAvatar(avatarRef.current.value);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    onUpdateAvatar({\r\n      avatar: avatar,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Обновить аватар\"\r\n      name=\"edit-avatar\"\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      submitTitle=\"Сохранить\"\r\n      submitLoadingTitle=\"Сохранение...\"\r\n      isSubmitActive={false}\r\n    >\r\n      <fieldset className=\"popup__fieldset\">\r\n        <FormInputWithError\r\n          name=\"avatar\"\r\n          placeholder=\"Ссылка на аватар\"\r\n          type=\"url\"\r\n          value={avatar}\r\n          inputRef={avatarRef}\r\n          onChange={handleAvatarChange}\r\n        />\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React, { useState } from \"react\";\r\nimport FormInputWithError from \"./FormInputWithError\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ onClose, onAddPlace }) {\r\n  // Стейт-переменные для управляемых компонентов\r\n  const [place, setPlace] = useState(\"\");\r\n  const [link, setLink] = useState(\"\");\r\n\r\n  const handlePlaceChange = (e) => {\r\n    setPlace(e.target.value);\r\n  };\r\n  \r\n  const handleLinkChange = (e) => {\r\n    setLink(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    onAddPlace({\r\n      name: place,\r\n      link,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Новое место\"\r\n      name=\"add-card\"\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      submitTitle=\"Создать\"\r\n      submitLoadingTitle=\"Сохранение...\"\r\n      isSubmitActive={false}\r\n    >\r\n      <fieldset className=\"popup__fieldset\">\r\n        <FormInputWithError\r\n          name=\"place\"\r\n          placeholder=\"Название\"\r\n          type=\"text\"\r\n          minLength=\"1\"\r\n          maxLength=\"30\"\r\n          value={place}\r\n          onChange={handlePlaceChange}\r\n        />\r\n        <FormInputWithError\r\n          name=\"link\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          type=\"url\"\r\n          value={link}\r\n          onChange={handleLinkChange}\r\n        />\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction ConfirmPopup({ deletedCard, onConfirmDelete, onClose }) {\r\n  const handleSubmit = () => {\r\n    onConfirmDelete(deletedCard);\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Вы уверены?\"\r\n      name=\"confirm\"\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      submitTitle=\"Да\"\r\n      submitLoadingTitle=\"Удаление...\"\r\n      isSubmitActive={true}\r\n    />\r\n  );\r\n}\r\n\r\nexport default ConfirmPopup;\r\n","import { apiConfig } from \"./utils\";\r\n\r\nclass Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._headers = options.headers;\r\n    this._contentType = options.headers[\"Content-Type\"];\r\n  }\r\n\r\n  _handleResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getUserData() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  getData() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  saveUserData(data) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  saveUserAvatar(data) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  saveNewItem(data) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  likeItem(itemId) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${itemId}`, {\r\n      method: \"PUT\",\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  unlikeItem(itemId) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${itemId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  deleteItem(itemId) {\r\n    return fetch(`${this._baseUrl}/cards/${itemId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n}\r\n\r\nexport const api = new Api(apiConfig);\r\n","// Объект исходных данных пользователя\r\nexport const initialUserData = {\r\n  name: \"Фёдор Конюхов\",\r\n  about: \"Российский путешественник\",\r\n  avatar: \"https://uznayvse.ru/images/celebs/konuhov_medium.jpg\",\r\n  _id: \"01\",\r\n};\r\n\r\n// Массив с данными исходных карточек\r\nexport const initialCardsData = [\r\n  {\r\n    name: \"Алтайский край\",\r\n    link:\r\n      \"https://images.unsplash.com/photo-1494791286225-ea86fc957ba7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1947&q=80\",\r\n    owner: {\r\n      name: \"Конюхов\",\r\n      _id: \"01\",\r\n    },\r\n  },\r\n  {\r\n    name: \"Ладожское озеро\",\r\n    link:\r\n      \"https://images.unsplash.com/photo-1547846218-c982107d30f2?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1972&q=80\",\r\n    owner: {\r\n      name: \"Жак-Ив Кусто\",\r\n      _id: \"02\",\r\n    },\r\n  },\r\n  {\r\n    name: \"Гора Нургуш\",\r\n    link:\r\n      \"https://images.unsplash.com/photo-1506516493400-bb5e8347bf0e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1955&q=80\",\r\n    owner: {\r\n      name: \"Конюхов\",\r\n      _id: \"01\",\r\n    },\r\n  },\r\n  {\r\n    name: \"Судак, Крым\",\r\n    link:\r\n      \"https://images.unsplash.com/photo-1565342403875-07a8dc5ed13c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=80\",\r\n    owner: {\r\n      name: \"Конюхов\",\r\n      _id: \"01\",\r\n    },\r\n  },\r\n  {\r\n    name: \"Байкал\",\r\n    link:\r\n      \"https://images.unsplash.com/photo-1551844931-cfcfecb3636f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2034&q=80\",\r\n    owner: {\r\n      name: \"Конюхов\",\r\n      _id: \"01\",\r\n    },\r\n  },\r\n  {\r\n    name: \"Владивосток\",\r\n    link:\r\n      \"https://images.unsplash.com/photo-1563943078-d83d3fb86468?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2134&q=80\",\r\n    owner: {\r\n      name: \"Конюхов\",\r\n      _id: \"01\",\r\n    },\r\n  },\r\n];\r\n\r\n// Объект данных для API\r\nexport const apiConfig = {\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-15\",\r\n  headers: {\r\n    authorization: \"584f4afd-78a5-47f8-908c-ac61484f6bb9\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n};\r\n\r\n// Объект валидации\r\nexport const objectOfValidation = {\r\n  formSelector: \"form.popup__container\",\r\n  inputSelector: \".popup__input\",\r\n  submitButtonSelector: \".popup__save-button\",\r\n  activeButtonClass: \"popup__save-button_unblocked\",\r\n  inactiveButtonClass: \"popup__save-button_blocked\",\r\n  inputValidClass: \"popup__input_valid\",\r\n  inputErrorClass: \"popup__input_invalid\",\r\n  errorClass: \"popup__error\",\r\n};\r\n\r\n// Кнопки\r\nexport const editProfileButton = document.querySelector(\r\n  \".profile__edit-button\"\r\n);\r\nexport const editAvatarButton = document.querySelector(\r\n  \".profile__avatar-button\"\r\n);\r\nexport const addCardButton = document.querySelector(\".profile__add-button\");\r\n\r\n// Селекторы\r\nexport const contentSelector = \".content\";\r\nexport const spinnerSelector = \".spinner\";\r\nexport const imagePopupSelector = \".popup_act_enlarge-image\";\r\nexport const editPopupSelector = \".popup_act_edit-profile\";\r\nexport const addPopupSelector = \".popup_act_add-card\";\r\nexport const avatarPopupSelector = \".popup_act_edit-avatar\";\r\nexport const confirmPopupSelector = \".popup_act_confirm\";\r\nexport const sectionSelector = \".gallery\";\r\nexport const cardSelector = \".card-template\";\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ConfirmPopup from \"./ConfirmPopup\";\r\nimport { api } from \"../utils/api\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction App() {\r\n  // Переменная состояния для загрузки (показываем/убираем спиннер)\r\n  const [isLoading, setLoadingState] = useState(true);\r\n\r\n  const [wasResponse, setResponseState] = useState(false);\r\n\r\n  // Используем хуки состояния для открытия/закрытия попапов\r\n  const [isEditProfilePopupOpen, setEditProfilePopupState] = useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupState] = useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupState] = useState(false);\r\n  const [isImagePopupOpen, setImagePopupState] = useState(false);\r\n  const [isConfirmPopupOpen, setConfirmPopupState] = useState(false);\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setEditAvatarPopupState(true);\r\n  };\r\n\r\n  const handleEditProfileClick = () => {\r\n    setEditProfilePopupState(true);\r\n  };\r\n\r\n  const handleAddPlaceClick = () => {\r\n    setAddPlacePopupState(true);\r\n  };\r\n\r\n  const handleCardClick = (card) => {\r\n    setSelectedCard(card);\r\n    setImagePopupState(true);\r\n  };\r\n\r\n  const closeAllPopups = () => {\r\n    setEditAvatarPopupState(false);\r\n    setEditProfilePopupState(false);\r\n    setAddPlacePopupState(false);\r\n    setImagePopupState(false);\r\n    setConfirmPopupState(false);\r\n  };\r\n\r\n  // Стейт-переменные для текущего состояния страницы\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n\r\n  const [currentUser, setCurrentUser] = useState({\r\n    name: \"\",\r\n    about: \"\",\r\n    avatar: \"\",\r\n  });\r\n\r\n  const [cards, setCards] = useState([]);\r\n\r\n  // Обработчики для попапов\r\n  const handleUpdateUser = (userData) => {\r\n    api.saveUserData(userData)\r\n      .then((userData) => {\r\n        setCurrentUser(userData);\r\n      })\r\n      .catch((err) => {\r\n        alert(err);\r\n      })\r\n      .finally(() => {\r\n        closeAllPopups();\r\n      });;\r\n  };\r\n\r\n  const handleUpdateAvatar = (data) => {\r\n    api.saveUserAvatar(data)\r\n      .then((userData) => {\r\n        setCurrentUser(userData);\r\n      })\r\n      .catch((err) => {\r\n        alert(err);\r\n      })\r\n      .finally(() => {\r\n        closeAllPopups();\r\n      });;\r\n  };\r\n\r\n  const handleAddPlace = (newCard) => {\r\n    api.saveNewItem(newCard)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n      })\r\n      .catch((err) => {\r\n        alert(err);\r\n      })\r\n      .finally(() => {\r\n        closeAllPopups();\r\n      });\r\n  };\r\n\r\n  // Обработчики для карточек\r\n  const handleCardLike = (isLiked, card) => {\r\n    const handleLikeClick = isLiked\r\n      ? api.unlikeItem.bind(api)\r\n      : api.likeItem.bind(api);\r\n    handleLikeClick(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        const newCards = cards.map((cardItem) =>\r\n          cardItem._id === card._id ? newCard : cardItem\r\n        );\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => {\r\n        alert(err);\r\n      });\r\n  };\r\n\r\n  const handleCardDelete = (card) => {\r\n    setSelectedCard(card);\r\n    setConfirmPopupState(true);\r\n  };\r\n  \r\n  const handleConfirmDelete = (card) => {\r\n    api.deleteItem(card._id)\r\n    .then(() => {\r\n      const newCards = cards.filter((cardItem) => cardItem._id !== card._id);\r\n      setCards(newCards);\r\n    }).catch((err) => {\r\n      alert(err);\r\n    }).finally(() => {\r\n      closeAllPopups();\r\n    });    \r\n  }\r\n\r\n  useEffect(() => {\r\n    Promise.all([api.getUserData(), api.getData()])\r\n      .then(([userData, cardsData]) => {\r\n        setCurrentUser(userData);\r\n        setCards(cardsData);\r\n        setResponseState(true);\r\n      })\r\n      .catch((err) => {\r\n        alert(err);\r\n      })\r\n      .finally(() => {\r\n        setLoadingState(false);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <div className=\"page__container\">\r\n          <Header />\r\n          {/* Пробрасываем обработчики клика */}\r\n          {isLoading ? (\r\n            <div className=\"spinner spinner_visible\" />\r\n          ) : (\r\n            <div className={`content ${!wasResponse && \"content_hidden\"}`}>\r\n              <Main\r\n                onAddPlace={handleAddPlaceClick}\r\n                onEditAvatar={handleEditAvatarClick}\r\n                onEditProfile={handleEditProfileClick}\r\n                onCardClick={handleCardClick}\r\n                cards={cards}\r\n                onCardLike={handleCardLike}\r\n                onCardDelete={handleCardDelete}\r\n              />\r\n            </div>\r\n          )}\r\n          <Footer />\r\n        </div>\r\n        {isEditProfilePopupOpen && (\r\n          <EditProfilePopup\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n          />\r\n        )}\r\n        {isEditAvatarPopupOpen && (\r\n          <EditAvatarPopup\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n          />\r\n        )}\r\n        {isAddPlacePopupOpen && (\r\n          <AddPlacePopup\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlace} />\r\n        )}\r\n        {isImagePopupOpen && (\r\n          <ImagePopup\r\n            place={selectedCard}\r\n            onClose={closeAllPopups} />\r\n        )}\r\n        {isConfirmPopupOpen && (\r\n          <ConfirmPopup\r\n            deletedCard={selectedCard}\r\n            onClose={ closeAllPopups }\r\n            onConfirmDelete={handleConfirmDelete}/>\r\n        )}\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.e889e45f.svg\";"],"sourceRoot":""}