(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(3),r=a.n(o),s=(a(13),a(1)),i=a(4),l=a.n(i);var m=function(){return c.a.createElement("header",{className:"header"},c.a.createElement("img",{className:"header__logo",src:l.a,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 '\u041c\u0435\u0441\u0442\u043e'"}))},u=a(7),p=a(5),d=a(6),h={name:"\u0424\u0451\u0434\u043e\u0440 \u041a\u043e\u043d\u044e\u0445\u043e\u0432",about:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a",avatar:"https://uznayvse.ru/images/celebs/konuhov_medium.jpg"},_=[{name:"\u0410\u043b\u0442\u0430\u0439\u0441\u043a\u0438\u0439 \u043a\u0440\u0430\u0439",link:"https://images.unsplash.com/photo-1494791286225-ea86fc957ba7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1947&q=80"},{name:"\u041b\u0430\u0434\u043e\u0436\u0441\u043a\u043e\u0435 \u043e\u0437\u0435\u0440\u043e",link:"https://images.unsplash.com/photo-1547846218-c982107d30f2?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1972&q=80"},{name:"\u0413\u043e\u0440\u0430 \u041d\u0443\u0440\u0433\u0443\u0448",link:"https://images.unsplash.com/photo-1506516493400-bb5e8347bf0e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1955&q=80"},{name:"\u0421\u0443\u0434\u0430\u043a, \u041a\u0440\u044b\u043c",link:"https://images.unsplash.com/photo-1565342403875-07a8dc5ed13c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=80"},{name:"\u0411\u0430\u0439\u043a\u0430\u043b",link:"https://images.unsplash.com/photo-1551844931-cfcfecb3636f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2034&q=80"},{name:"\u0412\u043b\u0430\u0434\u0438\u0432\u043e\u0441\u0442\u043e\u043a",link:"https://images.unsplash.com/photo-1563943078-d83d3fb86468?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2134&q=80"}],f=(document.querySelector(".profile__edit-button"),document.querySelector(".profile__avatar-button"),document.querySelector(".profile__add-button"),new(function(){function e(t){Object(p.a)(this,e),this._baseUrl=t.baseUrl,this._headers=t.headers,this._contentType=t.headers["Content-Type"]}return Object(d.a)(e,[{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"getUserData",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._handleResponse)}},{key:"getData",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._handleResponse)}},{key:"saveUserData",value:function(e){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._handleResponse)}},{key:"saveUserAvatar",value:function(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._handleResponse)}},{key:"saveNewItem",value:function(e){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._handleResponse)}},{key:"likeItem",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then(this._handleResponse)}},{key:"unlikeItem",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleResponse)}},{key:"deleteItem",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._handleResponse)}}]),e}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-15",headers:{authorization:"584f4afd-78a5-47f8-908c-ac61484f6bb9","Content-Type":"application/json"}}));var b=function(e){var t=e.name,a=e.link,n=e.likes,o=e.onCardClick;return c.a.createElement("figure",{className:"card"},c.a.createElement("button",{className:"card__button card__button_act_delete page__button",type:"button","aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"},c.a.createElement("svg",{width:"18",height:"20",fill:"#fff",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M2.458 18.142c.06.67.61 1.158 1.28 1.158H14.26c.67 0 1.22-.508 1.28-1.158L16.72 \r 5.79H1.28l1.178 12.352zM16.72 1.93h-5.14v-.65C11.58.569 11.011 0 10.3 0H7.72C7.01 0 6.44.569 \r 6.44 1.28v.65H1.28C.569 1.93 0 2.499 0 3.21c0 .711.569 1.28 1.28 1.28h15.44c.711 0 1.28-.569 \r 1.28-1.28 0-.711-.569-1.28-1.28-1.28z"}))),c.a.createElement("button",{className:"card__button card__button_act_enlarge-image",type:"button","aria-label":"\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c",onClick:function(){o({name:t,link:a})}},c.a.createElement("img",{className:"card__image",src:a,alt:"".concat(t,", \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f")})),c.a.createElement("figcaption",{className:"card__description"},c.a.createElement("h2",{className:"card__heading"},t),c.a.createElement("div",{className:"card__likes"},c.a.createElement("button",{className:"card__button card__button_act_like page__button",type:"button","aria-label":"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"},c.a.createElement("svg",{width:"20",height:"18",viewBox:"-1 -1 23 19",stroke:"black",strokeWidth:"1.5",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M19.154 9.338c2.14-2.14 2.14-5.614 0-7.733a5.486 5.486 0 00-7.755 0l-1.038 \r 1.06-1.038-1.039C7.183-.535 3.708-.535 1.589 1.605A5.43 5.43 0 000 5.482c0 1.462.572 \r 2.84 1.59 3.877l8.771 8.772 8.793-8.793z"}))),c.a.createElement("span",{className:"card__likes_quantity"},n.length))))};var E=function(e){var t=e.onEditProfile,a=e.onAddPlace,o=e.onEditAvatar,r=e.onCardClick,i=Object(n.useState)(""),l=Object(s.a)(i,2),m=l[0],p=l[1],d=Object(n.useState)(""),E=Object(s.a)(d,2),g=E[0],v=E[1],y=Object(n.useState)(""),k=Object(s.a)(y,2),N=k[0],O=k[1],j=Object(n.useState)([]),w=Object(s.a)(j,2),C=w[0],x=w[1],S=Object(n.useState)(!0),L=Object(s.a)(S,2),U=L[0],D=L[1],M=function(e,t){p(e.name),v(e.about),O(e.avatar),x(t)};return Object(n.useEffect)((function(){Promise.all([f.getUserData(),f.getData()]).then((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1];M(a,n)})).catch((function(e){alert("".concat(e,": \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0432 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435!"));var t=_.map((function(e){return e._id="f".concat((~~(1e8*Math.random())).toString(16)),e.likes=[],e}));M(h,t)})).finally((function(){D(!1)}))}),[]),c.a.createElement("main",{className:"main page__narrow"},U?c.a.createElement("div",{className:"spinner spinner_visible"}):c.a.createElement("div",{className:"content"},c.a.createElement("section",{className:"profile"},c.a.createElement("div",{className:"profile__image",style:{backgroundImage:"url(".concat(N,")")}},c.a.createElement("button",{className:"profile__avatar-button","aria-label":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",type:"button",onClick:o})),c.a.createElement("div",{className:"profile__data"},c.a.createElement("h1",{className:"profile__name"},m),c.a.createElement("button",{className:"profile__edit-button page__button","aria-label":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",type:"button",onClick:t}),c.a.createElement("p",{className:"profile__profession"},g)),c.a.createElement("button",{className:"profile__add-button page__button","aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",type:"button",onClick:a})),c.a.createElement("section",{className:"gallery"},C.map((function(e){var t=e._id,a=Object(u.a)(e,["_id"]);return c.a.createElement(b,Object.assign({key:t},a,{onCardClick:r}))})))))};var g=function(){return c.a.createElement("footer",{className:"footer page__narrow"},c.a.createElement("p",{className:"footer__copyright"},"\xa9\xa02020 Mesto Russia"))};var v=function(e){var t=e.title,a=e.name,o=e.children,r=e.isOpen,s=e.onClose,i=function(e){"Escape"===e.key&&s()};return Object(n.useEffect)((function(){return document.body.addEventListener("keydown",i),function(){document.body.removeEventListener("keydown",i)}})),c.a.createElement("div",{className:"popup popup_act_".concat(a).concat(r?" popup_active":""),onMouseDown:function(e){e.target.closest(".popup__container")||s()}},c.a.createElement("form",{action:"#",className:"popup__container popup__container_with_form",name:a,method:"GET",noValidate:!0},c.a.createElement("h2",{className:"popup__heading"},t),o,c.a.createElement("button",{className:"popup__close-button page__button",type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:s})))};var y=function(e){var t=e.place,a=e.isOpen,o=e.onClose,r=function(e){"Escape"===e.key&&o()};return Object(n.useEffect)((function(){return document.body.addEventListener("keydown",r),function(){document.body.removeEventListener("keydown",r)}})),c.a.createElement("div",{className:"popup popup_act_enlarge-image".concat(a?" popup_active":""),onMouseDown:function(e){e.target.closest(".popup__container")||o()}},c.a.createElement("figure",{className:"popup__container"},c.a.createElement("img",{className:"popup__image",src:t.link,alt:"".concat(t.name,", \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f")}),c.a.createElement("figcaption",null,c.a.createElement("p",{className:"popup__image-caption"},"".concat(t.name,", \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f")),c.a.createElement("button",{className:"popup__close-button page__button",type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:o}))))},k=function(e){var t=e.name,a=e.placeholder,n=e.type,o=e.minLength,r=e.maxLength;return c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{className:"popup__input popup__input_valid",name:t,placeholder:a,type:n,minLength:o,maxLength:r,required:!0,autoComplete:"off"}),c.a.createElement("span",{className:"popup__error popup__error_in_name"}))},N=function(e,t){return c.a.createElement("button",{className:"popup__save-button ".concat(t?"popup__save-button_unblocked":"popup__save-button_blocked"),disabled:!t,type:"submit"},e)};var O=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(!1),i=Object(s.a)(r,2),l=i[0],u=i[1],p=Object(n.useState)(!1),d=Object(s.a)(p,2),h=d[0],_=d[1],f=Object(n.useState)(!1),b=Object(s.a)(f,2),O=b[0],j=b[1],w=Object(n.useState)({}),C=Object(s.a)(w,2),x=C[0],S=C[1],L=function(){_(!1),o(!1),u(!1),j(!1)};return c.a.createElement("div",{className:"page"},c.a.createElement("div",{className:"page__container"},c.a.createElement(m,null),c.a.createElement(E,{onAddPlace:function(){u(!0)},onEditAvatar:function(){_(!0)},onEditProfile:function(){o(!0)},onCardClick:function(e){S(e),j(!0)}}),c.a.createElement(g,null)),c.a.createElement(v,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",name:"edit-profile",isOpen:a,onClose:L},c.a.createElement("fieldset",{className:"popup__fieldset"},k({name:"name",placeholder:"\u0418\u043c\u044f",type:"text",minLength:"2",maxLength:"40"}),k({name:"info",placeholder:"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f",type:"text",minLength:"2",maxLength:"200"})),N("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",!1)),c.a.createElement(v,{title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",name:"add-card",isOpen:l,onClose:L},c.a.createElement("fieldset",{className:"popup__fieldset"},k({name:"place",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",type:"text",minLength:"1",maxLength:"30"}),k({name:"link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",type:"url"})),N("\u0421\u043e\u0437\u0434\u0430\u0442\u044c",!1)),c.a.createElement(v,{title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",name:"edit-avatar",isOpen:h,onClose:L},c.a.createElement("fieldset",{className:"popup__fieldset"},k({name:"avatar",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0430\u0432\u0430\u0442\u0430\u0440",type:"url"})),N("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",!1)),c.a.createElement(y,{isOpen:O,place:x,onClose:L}),c.a.createElement(v,{title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",name:"confirm"},N("\u0414\u0430",!0)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},4:function(e,t,a){e.exports=a.p+"static/media/logo.e889e45f.svg"},8:function(e,t,a){e.exports=a(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.b2745ba1.chunk.js.map